<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Mapa 360 Itaipu - Debug Hotspots</title>
  <style>
    html, body {
      margin: 0;
      height: 100%;
    }
    #panorama {
      width: 100%;
      height: 100vh;
    }

    /* Aumenta os hotspots para mobile */
    .pannellum-hotspot {
      width: 50px !important;
      height: 50px !important;
      min-width: 50px;
      min-height: 50px;
    }

    /* Exemplo para usar ícone customizado se quiser */
    .hotspot-grande .pnlm-hotspot-inner {
      width: 60px;
      height: 60px;
      background-image: url('imgs/seta.png'); /* seu ícone maior opcional */
      background-size: contain;
      background-repeat: no-repeat;
    }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum/build/pannellum.css"/>
  <script src="https://cdn.jsdelivr.net/npm/pannellum/build/pannellum.js"></script>
</head>
<body>
  <div id="panorama"></div>

  <script>
    // Recupera a última cena visitada ou usa 'entrada' como padrão
    const ultimaCena = localStorage.getItem('ultimaCena') || 'entrada';

    const viewer = pannellum.viewer('panorama', {
      "default": {
        "firstScene": ultimaCena,
        "author": "Gustavo Neves",
        "sceneFadeDuration": 1000,
        "autoLoad": true,
        "hotSpotDebug": true   // 👈 mudar para false na versão final
      },

      "scenes": {
        "entrada": {
          "title": "Ponto de Ônibus",
          "panorama": "./imgs/ponto_onibus.jpeg",
          "hotSpots": [
            {
              "pitch": -10, "yaw": 0,
              "type": "scene",
              "text": "Próxima",
              "sceneId": "onibus-aguas-eventos",
              "cssClass": "hotspot-grande"
            }
          ]
        },

        "onibus-aguas-eventos": {
          "title": "Edifício das Águas / Espaço de Eventos",
          "panorama": "./imgs/divisao_onibus-aguas-eventos.jpeg",
          "hotSpots": [
            {
              "pitch": -10, "yaw": -5,
              "type": "scene",
              "text": "Próxima",
              "sceneId": "onibus-eventos",
              "cssClass": "hotspot-grande"
            },
            {
              "pitch": -10, "yaw": 85,
              "type": "scene",
              "text": "Precisa Mexer ainda",
              "sceneId": ""
            },
            {
              "pitch": -10, "yaw": 180,
              "type": "scene",
              "text": "Voltar para o ponto de ônibus",
              "sceneId": "entrada",
              "cssClass": "hotspot-grande"
            }
          ]
        },

        // Restante das cenas permanece igual, apenas adicionando 'cssClass': 'hotspot-grande'
        "onibus-eventos": {
          "title": "Auditórios ou seguir",
          "panorama": "./imgs/onibus_eventos.jpeg",
          "yaw": 180,
          "hotSpots": [
            {
              "pitch": -5, "yaw": -7,
              "type": "scene",
              "text": "Voltar",
              "sceneId": "onibus-aguas-eventos",
              "cssClass": "hotspot-grande"
            },
            {
              "pitch": -5, "yaw": 80,
              "type": "scene",
              "text": "Eventos",
              "sceneId": "Porta-eventos",
              "cssClass": "hotspot-grande"
            },
            {
              "pitch": -5, "yaw": 170,
              "type": "scene",
              "text": "Próximo",
              "sceneId": "corredor bloco 12",
              "cssClass": "hotspot-grande"
            }
          ]
        },

        "Porta-eventos": {
          "title": "Auditórios",
          "panorama": "./imgs/Portaeventos.jpeg",
          "hotSpots": [
            {
              "pitch": -5, "yaw": -7,
              "type": "scene",
              "text": "Voltar",
              "sceneId": "entrada-eventos",
              "cssClass": "hotspot-grande"
            },
            {
              "pitch": -5, "yaw": 160,
              "type": "scene",
              "text": "Voltar",
              "sceneId": "onibus-eventos",
              "cssClass": "hotspot-grande"
            }
          ]
        },

        "entrada-eventos": {
          "title": "Auditórios",
          "panorama": "./imgs/entrada_eventos.jpeg",
          "hotSpots": [
            {
              "pitch": -5, "yaw": -15,
              "type": "scene",
              "text": "Seguir",
              "sceneId": "entrada-florestan",
              "cssClass": "hotspot-grande"
            },
            {
              "pitch": -18, "yaw": 80,
              "type": "scene",
              "text": "Voltar",
              "sceneId": "Porta-eventos",
              "cssClass": "hotspot-grande"
            }
          ]
        },

        // Continue adicionando 'cssClass': 'hotspot-grande' em todos os hotspots restantes
        "entrada-florestan": {
          "title": "Auditórios",
          "panorama": "./imgs/entrada_florestan.jpeg",
          "hotSpots": [
            {
              "pitch": -5, "yaw": 0,
              "type": "scene",
              "text": "Seguir",
              "sceneId": "divisao cesar lattes",
              "cssClass": "hotspot-grande"
            },
            {
              "pitch": -18, "yaw": 180,
              "type": "scene",
              "text": "Voltar",
              "sceneId": "entrada-eventos",
              "cssClass": "hotspot-grande"
            },
            {
              "pitch": -18, "yaw": -90,
              "type": "scene",
              "text": "Florestan",
              "sceneId": "florestan",
              "cssClass": "hotspot-grande"
            }
          ]
        }

        // Continue fazendo o mesmo para todas as outras cenas...
      }
    });

    // Salva a cena atual sempre que o usuário muda
    viewer.on('scenechange', function(sceneId) {
      localStorage.setItem('ultimaCena', sceneId);
    });

  </script>
</body>
</html>
